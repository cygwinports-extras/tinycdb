diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/tinycdb-0.76/Makefile src/tinycdb-0.76/Makefile
--- origsrc/tinycdb-0.76/Makefile	2006-06-28 10:17:37.000000000 -0500
+++ src/tinycdb-0.76/Makefile	2007-10-02 00:48:13.484375000 -0500
@@ -29,8 +29,8 @@
 LIBBASE = libcdb
 LIB = $(LIBBASE).a
 PICLIB = $(LIBBASE)_pic.a
-SHAREDLIB = $(LIBBASE).so.1
-SOLIB = $(LIBBASE).so
+SHAREDLIB = cygcdb-1.dll
+SOLIB = $(LIBBASE).dll.a
 CDB_USELIB = $(LIB)
 NSS_USELIB = $(PICLIB)
 LIBMAP = $(LIBBASE).map
@@ -38,9 +38,9 @@
 
 # The following assumes GNU CC/LD -
 # used for building shared libraries only
-CFLAGS_PIC = -fPIC
-CFLAGS_SHARED = -shared
-CFLAGS_SONAME = -Wl,--soname=
+CFLAGS_PIC =
+CFLAGS_SHARED = -shared -Wl,--enable-auto-image-base
+CFLAGS_SONAME = -Wl,--out-implib,
 CFLAGS_VSCRIPT = -Wl,--version-script=
 
 CP = cp
@@ -83,9 +83,8 @@
 
 $(SHAREDLIB): $(LIB_OBJS_PIC) $(LIBMAP)
 	-rm -f $(SOLIB)
-	ln -s $@ $(SOLIB)
 	$(CC) $(CFLAGS) $(CFLAGS_SHARED) -o $@ \
-	 $(CFLAGS_SONAME)$(SHAREDLIB) $(CFLAGS_VSCRIPT)$(LIBMAP) \
+	 $(CFLAGS_SONAME)$(SOLIB) $(CFLAGS_VSCRIPT)$(LIBMAP) \
 	 $(LIB_OBJS_PIC)
 
 cdb: cdb.o $(CDB_USELIB)
